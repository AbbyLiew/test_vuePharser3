<template>
  <div
    class="Result"
    :style="`height : ${innerHeight}px; width : ${innerWidth}px;`"
  >
    <div>
      <transition appear @before-enter="beforeEnter_final" @enter="enter_final">
        <div
          class="popUpresult"
          :style="`height : ${innerHeight}px; width : ${innerWidth}px;`"
        >
          <transition
            appear
            @before-enter="beforeEnter_final0"
            @enter="enter_final0"
          >
            <div
              class="popupModal"
              :style="`position : absolute;`"
              v-if="closeModal"
            >
              <div
                class="imgContainer0"
                :style="`height : ${innerHeight * 0.35}px;`"
              >
                <img src="/result/pop-up.png" />
              </div>
              <div
                class="svgContainerrrr"
                :style="`height : ${innerHeight * 0.05}px;`"
                @click="handlerClose"
              >
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                  <g data-name="Layer 2" class="svg">
                    <path
                      d="m13.41 12 4.3-4.29a1 1 0 1 0-1.42-1.42L12 10.59l-4.29-4.3a1 1 0 0 0-1.42 1.42l4.3 4.29-4.3 4.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l4.29-4.3 4.29 4.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"
                      data-name="close"
                    />
                  </g>
                </svg>
              </div>
            </div>
          </transition>

          <div
            class="imgContainer_logo"
            :style="`margin-top : ${innerHeight * 0.05}px; height : ${
              innerHeight * 0.1
            }px`"
            v-if="true"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              id="Layer_2"
              viewBox="0 0 253.41 132.87"
              class=".cls-1"
            >
              <g id="Artwork">
                <g>
                  <g>
                    <path
                      class="cls-1"
                      d="M109.37,27.07c-.34-.23-.79-.3-1.19-.18-.29,.09-.61,.13-.96,.13-1.88,0-2.71-.8-2.71-2.59V14.54c0-.43,.38-.78,.84-.78h2.66c.73,0,1.18-1.01,1.68-1.75h0c.39-.69,.06-1.27-.74-1.27h-3.6c-.46,0-.84-.35-.84-.79V5.59c0-.67-.59-1.21-1.32-1.21h-.22c-.84,0-1.61,.45-1.96,1.16-.67,1.35-1.33,2.39-2.05,3.25-.88,1.05-1.93,1.83-3.39,2.55-.43,.21-.7,.62-.7,1.06v.14c0,.67,.59,1.21,1.32,1.21h.56c.46,0,.84,.35,.84,.78v9.56c0,4.02,2.73,6.24,7.68,6.24,1.02,0,2.16-.15,3.09-.4s1.53-1.02,1.53-1.9h0c0-.39-.19-.74-.53-.97Z"
                    />
                    <path
                      class="cls-1"
                      d="M138.52,26.69c-.96-.27-1.5-.75-1.67-1.53-.2-.88-.46-1.75-.77-2.6l-1.75-6.22c-1.18-4.98-2.78-6.55-7.21-6.55-1.68,0-3.33,.76-4.91,1.36-.56,.21-1.17-.16-1.17-.72V1.45c0-.67-.59-1.45-1.32-1.45h-.37c-.68,0-1.67,.41-2.25,.74-.7,.4-1.59,.85-2.52,1.26-.87,.41-1.86,.71-2.84,1.14s-1.02,1.56-1.02,1.56c0,.7,.68,1.43,1.34,1.5l.86,.09c.27,.02,1.17,.2,1.17,1.91V24.78c0,1.01-.59,1.51-2.25,1.9-.58,.14-.98,.62-.98,1.17v.66c0,.67,.59,1.21,1.32,1.21h10.27c.73,0,1.32-.54,1.32-1.21v-.62c0-.52-.37-.96-.89-1.14-1.06-.37-1.83-1.24-1.83-2.29v-6.73c0-1.8,1.43-3.4,3.35-3.56,.11,0,.21-.01,.31-.01,1.91,0,2.49,1.59,3.16,3.28l2.14,7.46c0,1.11-.49,1.45-1.86,1.86-.54,.16-.9,.62-.9,1.15v.62c0,.67,.59,1.21,1.32,1.21h9.58c.73,0,1.32-.54,1.32-1.21v-.67c0-.54-.38-1-.94-1.15Z"
                    />
                    <path
                      class="cls-1"
                      d="M148.7,30.36c-1.96-.02-3.85-.38-5.61-1.27-2.84-1.45-4.67-3.7-5.08-6.9-.63-4.91,1.93-10.22,7.08-11.8,3.19-.98,6.25-.66,9,1.38,1.31,.97,2.27,2.25,3.11,3.62,.45,.74,.47,1.56,.36,2.39-.07,.49-.38,.78-.83,.95-.69,.25-1.37,.51-2.06,.77-2.56,.95-5.13,1.89-7.69,2.84-.96,.35-1.09,.75-.46,1.57,1.09,1.43,2.51,2.3,4.32,2.5,.93,.1,1.81-.14,2.68-.44,1.16-.4,2.28-.87,3.2-1.73,.41-.38,.8-.38,1.29-.1,.48,.28,.62,.6,.51,1.18-.11,.56-.42,1.02-.8,1.44-.63,.7-1.39,1.25-2.21,1.71-2.11,1.18-4.35,1.89-6.79,1.9Zm-1.7-17.05c-1.32,.03-2.44,.97-2.81,2.36-.18,.7-.16,1.41-.06,2.11,.06,.43,.15,.88,.31,1.28,.21,.55,.5,.65,1.05,.44,1.54-.56,3.08-1.13,4.61-1.71,.5-.19,.57-.32,.53-.85-.09-1.45-1.31-3-2.74-3.46-.29-.09-.6-.12-.91-.18Z"
                    />
                  </g>
                  <g>
                    <path
                      class="cls-1"
                      d="M46.52,70.24h-.03c-1.4-.55-3.37-.31-4.67,2.01-.53,.94-5.46,9.16-15.3,9.16-5.4,0-11.84-2.85-11.84-16.44,0-16.48,5.5-18.75,11.44-18.75,4.53,0,9.51,2.68,13.66,7.34,.47,.53,1.12,.94,1.94,1.22,1.12,.38,2.36,.22,3.33-.43,.92-.63,1.48-1.63,1.53-2.75,.03-.65-.1-1.24-.37-1.69l-4.14-8.34c-1.04-2.1-2.53-3.26-4.2-3.26-1.01,0-2.09,.7-2.88,1.21l-.25,.16c-.4,.25-.87,.3-1.29,.14-2.38-.92-5.23-1.39-8.47-1.39C10.03,38.45,0,48.95,0,64.58c0,8.18,2.93,14.79,8.48,19.13,4.52,3.54,10.66,5.48,17.29,5.48,14.01,0,19.94-8.03,22.45-14.76,.82-2.2-.34-3.6-1.7-4.18Z"
                    />
                    <path
                      class="cls-1"
                      d="M77.25,38.39c-16.92,0-27.86,10.19-27.86,25.96s10.19,24.27,27.25,24.27c7.17,0,13.88-2.37,18.88-6.67,5.48-4.71,8.37-11.19,8.37-18.73,0-16.31-13.41-24.84-26.65-24.84Zm11.64,24.89c0,11.16-4.51,17.56-12.38,17.56-5.86,0-12.59-1.93-12.59-17s6.53-17.45,12.92-17.45c8.22,0,12.05,5.37,12.05,16.89Z"
                    />
                    <path
                      class="cls-1"
                      d="M250.76,80.62h0c-4.16-.46-4.16-1.77-4.16-2.47v-29.23c0-.5,0-1.84,4.23-2.51,1.45-.23,2.51-1.41,2.51-2.8v-1.37c0-1.57-1.35-2.85-3.02-2.85h-20.23c-1.66,0-3.02,1.28-3.02,2.85v1.26c0,1.38,1.04,2.55,2.47,2.8,3.41,.58,3.66,1.39,3.66,2.56v7.41c0,.82-.67,1.49-1.49,1.49h-15.59c-.82,0-1.49-.67-1.49-1.49v-7.35c0-1.66,2.29-2.4,4.21-2.73,1.43-.25,2.47-1.42,2.47-2.8v-1.15c0-1.57-1.35-2.85-3.02-2.85h-20.23c-1.66,0-3.02,1.28-3.02,2.85v1.26c0,1.38,1.04,2.55,2.47,2.8,3.46,.59,3.73,1.43,3.73,2.56v29.34c0,1.21-.24,1.97-3.59,2.4-1.49,.19-2.61,1.4-2.61,2.82v1.12c0,1.57,1.35,2.85,3.02,2.85h20.37c1.66,0,3.02-1.28,3.02-2.85v-1.1c0-1.44-1.14-2.65-2.65-2.82-4.16-.46-4.16-1.77-4.16-2.47v-10.96c0-.82,.67-1.49,1.49-1.49h15.59c.82,0,1.49,.67,1.49,1.49v11.01c0,1.21-.24,1.98-3.59,2.4-1.49,.19-2.61,1.4-2.61,2.82v1.12c0,1.57,1.35,2.85,3.02,2.85h20.37c1.66,0,3.02-1.28,3.02-2.85v-1.1c0-1.44-1.14-2.65-2.65-2.82Z"
                    />
                    <path
                      class="cls-1"
                      d="M195.1,70.24h-.03c-1.4-.55-3.37-.31-4.67,2.01-.53,.94-5.46,9.16-15.3,9.16-5.4,0-11.84-2.85-11.84-16.44,0-16.48,5.5-18.75,11.44-18.75,4.53,0,9.51,2.68,13.66,7.34,.47,.53,1.12,.94,1.94,1.22,1.12,.38,2.36,.22,3.33-.43,.93-.63,1.48-1.63,1.53-2.75,.03-.65-.11-1.24-.37-1.69l-4.14-8.34c-1.04-2.1-2.53-3.26-4.2-3.26-1.01,0-2.09,.7-2.88,1.21l-.26,.16c-.4,.25-.87,.3-1.29,.14-2.38-.92-5.23-1.39-8.47-1.39-14.93,0-24.96,10.5-24.96,26.13,0,8.18,2.93,14.79,8.48,19.13,4.52,3.54,10.66,5.48,17.29,5.48,14.01,0,19.94-8.03,22.45-14.76,.82-2.2-.34-3.6-1.7-4.18Z"
                    />
                    <path
                      class="cls-1"
                      d="M151.31,80.55c-1.64-.39-3.85-1.45-5.12-4.34l-15.88-35.14c-.48-1.05-1.57-1.73-2.77-1.73h-3.83c-1.22,0-2.32,.69-2.78,1.75l-15.02,34.08c-1.67,3.88-4.19,4.89-6.44,5.36-1.38,.29-2.35,1.43-2.35,2.77v1.23c0,1.57,1.35,2.85,3.02,2.85h17.06c1.66,0,3.02-1.28,3.02-2.85v-1.15c0-1.28-.91-2.41-2.22-2.74-3.18-.81-3.44-1.57-3.44-2.21,0-.39,.15-.95,.45-1.65l1.49-3.5c.29-.67,.94-1.1,1.66-1.1h10.39c.72,0,1.37,.42,1.66,1.08l1.96,4.42c.25,.55,.29,.95,.29,1.15,0,.31,0,1.03-3.12,1.76-1.34,.32-2.28,1.45-2.28,2.76v1.2c0,1.57,1.35,2.85,3.02,2.85h20.5c1.66,0,3.02-1.28,3.02-2.85v-1.24c0-1.3-.93-2.44-2.27-2.75Zm-24.96-15.13h-6.05c-.63,0-1.05-.65-.79-1.23l3.04-6.7c.31-.68,1.28-.68,1.58,0l3.01,6.7c.26,.57-.16,1.22-.79,1.22Z"
                    />
                  </g>
                  <g>
                    <path
                      class="cls-1"
                      d="M188.44,123.76c-.96-.27-1.5-.75-1.67-1.53-.2-.88-.46-1.75-.77-2.6l-1.75-6.22c-1.18-4.98-2.78-6.55-7.21-6.55-1.68,0-3.33,.76-4.91,1.36-.56,.21-1.17-.16-1.17-.72v-9c0-.67-.59-1.45-1.32-1.45h-.37c-.68,0-1.67,.41-2.25,.74-.7,.4-1.59,.85-2.52,1.26-.87,.41-1.86,.71-2.84,1.14s-1.02,1.56-1.02,1.56c0,.7,.68,1.43,1.34,1.5l.86,.09c.27,.02,1.17,.2,1.17,1.91v16.58c0,1.01-.59,1.51-2.25,1.9-.58,.14-.98,.62-.98,1.17v.66c0,.67,.59,1.21,1.32,1.21h10.27c.73,0,1.32-.54,1.32-1.21v-.62c0-.52-.37-.96-.89-1.14-1.06-.37-1.83-1.24-1.83-2.29v-6.73c0-1.8,1.43-3.4,3.35-3.56,.11,0,.21-.01,.31-.01,1.91,0,2.49,1.59,3.16,3.28l2.14,7.46c0,1.11-.49,1.45-1.86,1.86-.54,.16-.9,.62-.9,1.15v.62c0,.67,.59,1.21,1.32,1.21h9.58c.73,0,1.32-.54,1.32-1.21v-.67c0-.54-.38-1-.94-1.15Z"
                    />
                    <path
                      class="cls-1"
                      d="M210.65,116.81c0,6.22-4.31,10.49-11.1,10.49s-11.1-4.03-11.1-10.49,4.72-10.37,11.06-10.37,11.14,4.11,11.14,10.37Zm-15.29,0c0,3.99,1.63,6.1,4.11,6.1s4.27-1.99,4.27-6.02-1.67-6.06-4.19-6.06-4.19,1.99-4.19,5.98Z"
                    />
                    <path
                      class="cls-1"
                      d="M70.77,106.89c-1.44-.02-2.88,.23-4.23,.75v-9.33c0-.75-.6-1.35-1.35-1.35h-1.3c-.28,0-.56,.07-.8,.22-.93,.59-1.91,1.11-2.93,1.55-.58,.26-2,.8-2.9,1.14-.47,.16-.79,.6-.8,1.1v.87c0,.64,.49,1.17,1.12,1.22l.84,.07c.78,.09,1.18,.69,1.18,1.82v.06h0v17.05c.06,.58-.29,1.13-.85,1.32-.38,.13-.77,.23-1.1,.31-.44,.1-.74,.49-.74,.94v1.07c0,.54,.44,.98,.98,.98h7.87c.35,0,.63-.23,.74-.54h.03c1.29,.37,2.63,.55,3.97,.54,6.75,0,11.28-4.18,11.28-10.4,0-5.6-4.43-9.38-11.02-9.38Zm-1.62,16.54c-1.5,0-2.71-1.21-2.71-2.71v-7.53c0-1.01,.56-1.93,1.45-2.4,.61-.32,1.28-.49,1.97-.5h.02c2.25,0,4.58,2.31,4.58,6.18,0,1.6-.38,6.96-5.3,6.96Z"
                    />
                    <path
                      class="cls-1"
                      d="M95.51,106.89c-1.44-.02-2.88,.23-4.23,.75v-9.33c0-.75-.6-1.35-1.35-1.35h-1.3c-.28,0-.56,.07-.8,.22-.93,.59-1.91,1.11-2.93,1.55-.58,.26-2,.8-2.9,1.14-.47,.16-.79,.6-.8,1.1v.87c0,.64,.49,1.17,1.12,1.22l.84,.07c.78,.09,1.18,.69,1.18,1.82v.06h0v17.05c.06,.58-.29,1.13-.85,1.32-.38,.13-.77,.23-1.1,.31-.44,.1-.74,.49-.74,.94v1.07c0,.54,.44,.98,.98,.98h7.87c.35,0,.63-.23,.74-.54h.03c1.29,.37,2.63,.55,3.97,.54,6.75,0,11.28-4.18,11.28-10.4,0-5.6-4.43-9.38-11.02-9.38Zm-1.62,16.54c-1.5,0-2.71-1.21-2.71-2.71v-7.53c0-1.01,.56-1.93,1.45-2.4,.61-.32,1.28-.49,1.97-.5h.02c2.25,0,4.58,2.31,4.58,6.18,0,1.6-.38,6.96-5.3,6.96Z"
                    />
                    <path
                      class="cls-1"
                      d="M224.61,106.9c-1.35-.02-2.7,.17-4,.54l-.38,.13c-.41-.75-1.19-1.26-2.1-1.26-.43,0-.84,.11-1.21,.33-.7,.41-1.91,1.1-2.63,1.42-.55,.24-1.65,.66-2.47,.96-.62,.23-1.04,.81-1.07,1.47,0,.06,0,.13,0,.19-.03,.86,.6,1.6,1.46,1.69l.44,.05c.51,.06,1.11,.43,1.11,1.81v12.81c0,.68-1.17,1.28-2.08,1.64-.62,.25-1.02,.85-1.02,1.52v.03c0,.9,.73,1.64,1.64,1.64h9.18c.91,0,1.65-.74,1.64-1.65h0c0-.67-.41-1.25-1.03-1.51-.72-.31-1.57-.8-1.57-1.42v-1.4s.05,.02,.11,.04c1.35,.52,2.79,.77,4.23,.75,6.59,0,11.02-3.78,11.02-9.38,0-6.22-4.53-10.4-11.28-10.4Zm-.65,16.38h-.02c-.69,0-1.36-.17-1.97-.5-.89-.47-1.45-1.39-1.45-2.4v-7.53c0-1.5,1.21-2.71,2.71-2.71,4.91,0,5.3,5.36,5.3,6.96,0,3.86-2.33,6.18-4.58,6.18Z"
                    />
                    <path
                      class="cls-1"
                      d="M129.54,107.35h-7.2c-.88,0-1.6,.71-1.61,1.59h0v.23c0,.63,.39,1.21,.97,1.46,.53,.22,.92,.38,1.04,.8,.04,.2,.02,.41-.06,.6l-2.26,4.8c-.12,.24-.41,.35-.65,.23-.1-.05-.18-.13-.23-.23l-2.78-5.31c-.07-.13-.09-.28-.05-.42,.12-.3,.46-.44,1.02-.59,.67-.2,1.14-.82,1.14-1.52v-.04c0-.88-.72-1.6-1.6-1.6h-9.7c-.88,0-1.6,.72-1.6,1.6v.18c0,.71,.5,1.33,1.19,1.5,1.08,.23,2,.94,2.5,1.92,0,0,6.16,12.19,6.24,12.37s.36,.77,.23,1.31c-.37,1.07-1.21,1.9-2.42,1.9-1.73,0-2.08-1.48-3.91-1.48-1.62,0-2.43,1.09-2.43,2.46,0,2.29,2.29,3.77,5.03,3.77,4.53,0,7.12-4.43,8.53-7.23,0,0,6.11-12.89,6.11-12.89,.3-.68,.81-1.25,1.44-1.64,.46-.23,.94-.39,1.44-.5,.71-.18,1.21-.81,1.22-1.54v-.12c0-.88-.72-1.6-1.6-1.6Z"
                    />
                    <path
                      class="cls-1"
                      d="M55.04,123.46h0c-.53,0-1.03-.18-1.44-.52-.21-.19-.33-.45-.33-.73v-9.27c0-3.53-3.61-5.9-8.98-5.9s-8.85,2.4-8.85,4.67c0,1.54,1.19,2.54,3.05,2.54s2.81-1.27,3.45-2.47c.41-.99,1.34-1.66,2.4-1.74,1.16,0,2.09,.94,2.09,2.1,0,.08,0,.16-.01,.24h0c.02,.9-.57,1.7-1.44,1.94l-2.23,.56-.41,.1c-3.11,.74-8.9,2.1-8.9,6.67,0,3.26,3.13,5.38,8,5.38,2.21,.08,4.4-.45,6.33-1.54,1.24,.86,2.74,1.27,4.25,1.18,1.38,.04,2.73-.37,3.86-1.16,.49-.38,.58-1.08,.19-1.57-.04-.05-.09-.1-.14-.15-.25-.22-.57-.34-.9-.34Zm-10.11-5.9c.65-.15,1.31,.26,1.46,.91,.02,.09,.03,.17,.03,.26v2.23c0,1.53-1.74,2.48-3.34,2.48-1.26,0-2.74-.42-2.74-2.44,.02-1.63,2.34-2.88,4.6-3.45Z"
                    />
                    <path
                      class="cls-1"
                      d="M32.05,123.5c-.35-.23-.79-.3-1.19-.18-.31,.09-.64,.13-.96,.13-1.88,0-2.72-.8-2.72-2.59v-9.89c0-.44,.36-.8,.8-.8,.02,0,.03,0,.05,0h2.66c.73,0,1.18-1.01,1.68-1.76h0c.39-.7,.06-1.26-.74-1.27h-3.62c-.44,.03-.82-.31-.85-.75,0-.02,0-.03,0-.05v-4.33c-.03-.7-.62-1.24-1.31-1.21h-.24c-.82-.02-1.58,.43-1.96,1.16-.55,1.16-1.23,2.25-2.04,3.25-.93,1.09-2.08,1.96-3.38,2.56-.42,.19-.69,.6-.7,1.06v.14c.03,.7,.62,1.24,1.32,1.21h.56c.44-.02,.82,.32,.84,.76v9.64c0,4,2.73,6.24,7.69,6.24,1.04,0,2.08-.13,3.1-.39,.88-.21,1.51-1,1.53-1.9h0c.02-.41-.17-.8-.5-1.03Z"
                    />
                    <path
                      class="cls-1"
                      d="M153.05,113.93l-.96-.2c-2.49-.5-5.06-1.02-5.06-2.18,0-.57,1.09-1.39,3.26-1.14,1.64,.19,4.25,1.9,5.6,2.87,.59,.42,1.37,.51,2.04,.23h0c1.1-.43,1.63-1.68,1.2-2.77v-.04l-1.19-2.86c-.5-.83-1.58-1.1-2.42-.6-.07,.04-.13,.09-.19,.13-.88,.61-1.03,.49-1.66,.26-1.19-.47-2.45-.71-3.73-.7-5.27,0-8.95,2.45-8.95,5.95,0,3.7,3.42,5.02,7.13,5.9,.66,.15,1.32,.28,1.97,.42,2.75,.54,5.6,1.12,5.6,2.4,0,.8-1.65,1.74-4,1.74-3.34,0-6.22-2.3-7.58-3.6-.55-.52-1.35-.68-2.05-.4h0c-1.01,.4-1.5,1.53-1.11,2.54,.02,.04,.03,.08,.05,.12l1.74,3.68c.3,.52,.88,.81,1.47,.75,1.37,0,1.37-.66,2.47-.66,1.84,0,2.96,1.09,5.34,1.09,5.14,0,9.16-2.98,9.16-6.77,0-4.53-5.05-5.54-8.13-6.15Z"
                    />
                  </g>
                </g>
              </g>
            </svg>
          </div>
          <div class="block" :style="`height : ${innerHeight * 0.05}px`" />
          <!--  -->
          <div
            :style="`height: ${innerHeight * 0.5}px; width: ${innerWidth}px;`"
            class="imgContainer_icecream"
          >
            <img :src="`/result/FN${this.output_color}.png`" />
          </div>
          <div class="block" :style="`height : ${innerHeight * 0.05}px`" />
          <div class="btn-next">
            <button id="shareButton" :style="`width : ${innerWidth * 0.45}px`">
              SHARE THE VIDEO
            </button>
          </div>
          <div class="block" :style="`height : ${innerHeight * 0.025}px`" />
          <div class="btn-next">
            <button :style="`width : ${innerWidth * 0.45}px`">
              SHOP TABBY
            </button>
          </div>
        </div>
      </transition>
    </div>
  </div>
</template>

<script>
import gsap from "gsap";
import axios from "axios";
export default {
  props: {
    quationsData: {
      type: Array,
      default: () => [],
    },
    innerWidth: {
      type: Number,
      default: 0,
    },
    innerHeight: {
      type: Number,
      default: 0,
    },
    current: {
      type: Number,
      default: 0,
    },
    isActive_video: {
      type: Boolean,
      default: false,
    },
  },
  data() {
    return {
      isActive: false,
      isIOS: false,
      output_color: "",
      closeModal: true,
    };
  },
  methods: {
    shareButton() {
      let button = document.getElementById("shareButton");
      button.addEventListener("click", async (event) => {
        fetch("/videos/LowRes/compressed_pink.mp4")
          .then((res) => res.blob()) // Gets the response and returns it as a blob
          .then((blob) => {
            if (navigator.share) {
              navigator
                .share({
                  files: [
                    new File([blob], "video.mp4", {
                      type: "video/mp4",
                    }),
                  ],
                  title: "couch tabby redeem icecream",
                  url: window.location.href,
                })
                .then(() => {
                  console.log("Thanks for sharing!");
                })
                .catch(console.error);
            } else {
              let a = document.createElement("a");
              a.href = window.URL.createObjectURL(blob);
              a.download = this.output_color + "MP4";
              a.click();
            }
          });
      });
    },
    handlerClose() {
      this.closeModal = false;
    },
    beforeEnter_final0(el) {
      el.style.opacity = "0";
    },
    enter_final0(el) {
      gsap.to(el, {
        duration: 1,
        opacity: 1,
        type: "ease",
        delay: us,
      });
    },
    beforeEnter_final(el) {
      el.style.opacity = "0";
    },
    enter_final(el) {
      gsap.to(el, {
        duration: 1,
        opacity: 1,
        type: "ease",
        delay: 2,
      });
    },

    convertResult(result) {
      if (result[0] === "A" || result[0] === "B") {
        result[0] = "A";
      } else if (result[0] === "C" || result[0] === "D") {
        result[0] = "B";
      } else if (result[0] === "E") {
        result[0] = "C";
      }

      if (result[1] === "A" || result[1] === "B") {
        result[1] = "A";
      } else if (result[1] === "C" || result[1] === "D") {
        result[1] = "B";
      } else if (result[1] === "E") {
        result[1] = "C";
      }

      if (result[2] === "A" || result[2] === "B") {
        result[2] = "A";
      } else if (result[2] === "C" || result[2] === "D") {
        result[2] = "B";
      } else if (result[2] === "E") {
        result[2] = "C";
      }

      result = result[0] + result[1] + result[2];
      return result;
    },
  },

  mounted() {
    let isAndroid = /android/i.test(navigator.userAgent.toLowerCase());
    let isIOS = /iphone|ipad|ipod/i.test(navigator.userAgent.toLowerCase());
    this.isIOS = isIOS;
  },

  watch: {
    current: {
      handler: function (newVal, oldVal) {
        if (newVal === 11) {
          window.switchScene();
        }
      },
      deep: true,
    },

    quationsData: {
      handler: function (newVal, oldVal) {
        const { quation1, quation2, quation3 } = newVal;
        if (quation1 && quation2 && quation3 && this.current <= 6) {
          let result = quation1 + quation2 + quation3;
          result = result.split("");
          result = this.convertResult(result);
          switch (result) {
            case "AAA":
              this.output_color = "yellow";
              window.startPinkScene();
              break;
            case "AAB":
              this.output_color = "pink";
              window.startPinkScene();
              break;
            case "AAC":
              this.output_color = "teal";
              window.startPinkScene();
              break;
            case "ABA":
              window.startPinkScene();
              this.output_color = "pink";
              break;
            case "ABB":
              window.startPinkScene();
              this.output_color = "purple";
              break;
            case "ABC":
              window.startPinkScene();
              this.output_color = "yellow";
              break;
            case "ACC":
              window.startPinkScene();
              this.output_color = "pink";
              break;
            case "ACA":
              window.startPinkScene();
              this.output_color = "cream";
              break;
            case "BAA":
              window.startPinkScene();
              this.output_color = "teal";
              break;
            case "BAB":
              window.startPinkScene();
              this.output_color = "teal";
              break;
            case "BAC":
              window.startPinkScene();
              this.output_color = "purple";
              break;
            case "BBA":
              window.startPinkScene();
              this.output_color = "yellow";
              break;
            case "BBB":
              window.startPinkScene();
              this.output_color = "yellow";
              break;
            case "BBC":
              window.startPinkScene();
              this.output_color = "pink";
              break;
            case "BCC":
              window.startPinkScene();
              this.output_color = "yellow";
              break;
            case "CAA":
              window.startPinkScene();
              this.output_color = "teal";
              break;
            case "CAB":
              window.startPinkScene();
              this.output_color = "yellow";
              break;
            case "CAC":
              window.startPinkScene();
              this.output_color = "teal";
              break;
            case "CBA":
              window.startPinkScene();
              this.output_color = "pink";
              break;
            case "CBB":
              window.startPinkScene();
              this.output_color = "purple";
              break;
            case "CBC":
              window.startPinkScene();
              this.output_color = "cream";
              break;
            case "CCA":
              window.startPinkScene();
              this.output_color = "cream";
              break;
            case "CCC":
              window.startPinkScene();
              this.output_color = "pink";
              break;
          }
        }
      },
      deep: true,
    },
  },
};
</script>

<style>
.Result {
  position: fixed;
  z-index: -10;
  transition: all 0.5s ease-in-out;
  max-width: 750px;
  opacity: 0;
  background-color: black;
}

.popupModal {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
}

.popupModal img {
  height: 100%;
}

#resultVideo {
  object-fit: cover;
  width: 100%;
  max-width: 750px;
}
.popUpresult {
  position: absolute;
  background-color: #fedde0;
  z-index: 100;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
}
.imgContainer {
  position: absolute;
  top: 0;
  margin: auto;
  z-index: 1;
  left: 50%;
  transform: translateX(-50%);
}
.imgContainer_logo svg {
  height: 100%;
}
.imgContainer_logo {
  margin: 0 auto;
  width: fit-content;
}
.imgContainer svg {
  height: 100%;
}

.Result .cls-1 {
  fill: #f597a7;
}

.active {
  fill: white !important;
}
.popUpresult {
  max-width: 750px;
}
.imgContainer_icecream {
  margin: auto;
  width: fit-content;
  display: flex;
  justify-content: center;
}
.imgContainer_icecream img {
  height: 100%;
}
.--active_container {
  z-index: 10000;
  opacity: 1;
}
.svg {
  fill: white;
}
svg {
  height: 100%;
}
.svgContainerrrr {
  position: absolute;
  top: 5px;
  right: 5px;
}
</style>
